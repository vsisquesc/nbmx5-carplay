ğŸ•¹ï¸ Raspberry Pi GPIO External Controller
Un pequeÃ±o sistema para usar interruptores externos (switches) conectados a los GPIO de una Raspberry Pi como un teclado virtual que emula pulsaciones de teclado estÃ¡ndar.

ğŸ“¦ Contenido
Python script que gestiona pulsaciones, combinaciones y tiempos.

Archivo config.yaml para definir toda la configuraciÃ³n (GPIOs, teclas, combinaciones, tiempos).

Sistema modular: todo configurable sin tocar el cÃ³digo.

ğŸ“‹ Â¿CÃ³mo funciona?
Pulsas un botÃ³n â” se emula una tecla (por ejemplo: flecha Up).

Pulsas dos botones a la vez â” se emula una combinaciÃ³n especial (por ejemplo: ctrl+Left).

Si mantienes dos botones pulsados â” se envÃ­a una combinaciÃ³n distinta (por ejemplo: ctrl+shift+Left).

Si mantienes pulsado un solo botÃ³n â” repite su tecla cada cierto tiempo (repeat_delay).

ğŸ› ï¸ InstalaciÃ³n
Instala dependencias:

bash
Copiar
Editar
sudo apt-get install xdotool
pip install gpiozero pyyaml
Copia los archivos:

bash
Copiar
Editar
- controller.py    # (el script principal)
- config.yaml      # (archivo de configuraciÃ³n)
Ejecuta el script:

bash
Copiar
Editar
python3 controller.py
(o haz que arranque automÃ¡ticamente con el sistema, ver mÃ¡s abajo)

âš™ï¸ ConfiguraciÃ³n (config.yaml)
Ejemplo de configuraciÃ³n:

yaml
Copiar
Editar
delays:
  repeat_delay: 0.2
  hold_threshold: 0.5

buttons:
  driver_up:
    pin: 17
    key: Up
  driver_down:
    pin: 27
    key: Down
  passenger_up:
    pin: 22
    key: Left
  passenger_down:
    pin: 23
    key: Right

combinations:
  short:
    driver_up+passenger_up: ctrl+Left
    driver_down+passenger_down: ctrl+Right
    driver_up+driver_down: Return
    passenger_up+passenger_down: Escape

  long:
    driver_up+passenger_up: ctrl+shift+Left
    driver_down+passenger_down: ctrl+shift+Right
    driver_up+driver_down: Shift+Return
    passenger_up+passenger_down: Shift+Escape
ğŸ“Œ ExplicaciÃ³n:
delays:

repeat_delay: Tiempo entre repeticiones de un solo botÃ³n pulsado (en segundos).

hold_threshold: Tiempo para considerar una combinaciÃ³n como "mantener pulsado" (en segundos).

buttons:

Cada botÃ³n tiene:

pin: NÃºmero de pin GPIO al que estÃ¡ conectado.

key: Tecla que emula cuando se pulsa solo.

combinations:

short: QuÃ© combinaciÃ³n enviar si pulsas dos botones brevemente.

long: QuÃ© combinaciÃ³n enviar si mantienes dos botones pulsados.

ğŸš€ Auto-inicio al arrancar la Raspberry
Si quieres que el script se ejecute automÃ¡ticamente al arrancar:

Edita tu crontab:

bash
Copiar
Editar
crontab -e
AÃ±ade al final:

bash
Copiar
Editar
@reboot python3 /ruta/a/controller.py &
ğŸ“ˆ ExtensiÃ³n futura
Soporte para mÃºltiples perfiles (config_carplay.yaml, config_gaming.yaml, etc).

Cambiar de perfil dinÃ¡micamente con un interruptor adicional.

AÃ±adir soporte para mÃ¡s tipos de eventos (mouse, multimedia, etc).

ğŸ”¥ Requisitos
Raspberry Pi OS (Debian based).

Python 3.

gpiozero, xdotool, pyyaml.

# nbmx5-carplay
